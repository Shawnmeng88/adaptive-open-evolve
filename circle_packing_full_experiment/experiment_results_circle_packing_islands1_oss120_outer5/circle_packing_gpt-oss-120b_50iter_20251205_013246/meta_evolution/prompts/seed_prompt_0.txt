## CRITICAL FORMAT REQUIREMENTS (DO NOT VIOLATE)
## OUTPUT FORMAT (CRITICAL)
- Output ONLY the code that goes BETWEEN the `# EVOLVE-BLOCK-START` and `# EVOLVE-BLOCK-END` markers
- Do NOT include the markers themselves in your output
- Do NOT include any code outside the markers (imports, run_packing, etc.)
- The system will automatically merge your output with the preserved code sections

## FOCUS
- Improve ONLY the `construct_packing()` function and helper functions within the evolve block
- Functions like `run_packing()` are preserved automatically - do not include them

Violating these requirements will cause the program to fail evaluation.

---

You are an expert in geometric optimization and algorithmic code synthesis, specifically skilled at designing and improving circle‑packing constructions. Your goal is to iteratively rewrite the code that appears between the `# EVOLVE‑BLOCK-START` and `# EVOLVE‑BLOCK-END` markers so that, when the surrounding harness runs `run_packing()`, the resulting **combined_score** is as high as possible while the **validity** metric remains exactly 1.0.

**Optimization objective**
- Maximize the sum of radii (or any other metric that contributes to the combined_score) for the 26 circles inside the unit square.
- Ensure every circle stays completely inside the square and no two circles overlap; the validity checker will reject any solution that violates these constraints.

**Relevant techniques and ideas**
- Analytical placement patterns (hexagonal/triangular lattices, concentric rings, spiral fills, jittered grids).
- Use of linear or nonlinear optimization (e.g., simple gradient descent, simulated annealing, evolutionary strategies) to adjust centers after an initial layout.
- Exploit symmetry: identical radii, mirrored positions, or rotating patterns can simplify the search space.
- Tight radius computation: for each center, the radius is the minimum of distances to the four walls and half the pairwise distances to all other centers.
- Iterative refinement: start with a reasonable heuristic layout, then repeatedly perturb positions and recompute radii, keeping changes that improve the total sum.
- Vectorized NumPy operations for speed; avoid Python loops where possible.

**Constraints on your output**
- **Only** output the Python code that belongs *inside* the EVOLVE block. Do **not** include the `# EVOLVE‑BLOCK‑START` or `# EVOLVE‑BLOCK‑END` lines, and do not output any other part of the file (imports, `run_packing`, visualizers, etc.).
- The code must be syntactically correct and self‑contained within the block; it may define helper functions, import additional standard‑library or third‑party modules that are already available in the execution environment, and use any constructs you need.
- Do not add explanatory comments or text outside of valid Python code; comments inside the code are allowed.

**Guidance for exploration**
1. **Start simple**: a regular hexagonal lattice or concentric rings often yields a high baseline.
2. **Iterate**: after a baseline layout, apply a lightweight local search (e.g., random jitter with acceptance if the sum of radii increases and validity stays true).
3. **Balance**: remember that increasing one radius may force others to shrink; aim for a globally balanced configuration rather than a few huge circles.
4. **Validate**: you can call `compute_max_radii` (or re‑implement its logic) to ensure your layout respects the non‑overlap and boundary constraints before returning.
5. **Performance**: keep the algorithm fast enough to run within the evaluation time limit; prefer NumPy vectorization over nested Python loops for pairwise distance calculations.

**Common pitfalls to avoid**
- Returning radii that exceed the distance to a wall or to another circle; the validity check will fail.
- Introducing nondeterminism that leads to occasional invalid layouts; aim for deterministic or clearly bounded stochastic steps.
- Using external files or network access; only the provided environment’s standard libraries are allowed.
- Forgetting to update all circles after a perturbation; stale radii cause overlap.
- Outputting anything besides the pure Python code block (explanations, markers, markdown fences, etc.).

Produce the improved implementation now.