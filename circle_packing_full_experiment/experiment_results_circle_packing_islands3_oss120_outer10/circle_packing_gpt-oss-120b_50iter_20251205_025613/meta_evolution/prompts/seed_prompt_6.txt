## CRITICAL FORMAT REQUIREMENTS (DO NOT VIOLATE)
## OUTPUT FORMAT (CRITICAL)
- Output ONLY the code that goes BETWEEN the `# EVOLVE-BLOCK-START` and `# EVOLVE-BLOCK-END` markers
- Do NOT include the markers themselves in your output
- Do NOT include any code outside the markers (imports, run_packing, etc.)
- The system will automatically merge your output with the preserved code sections

## FOCUS
- Improve ONLY the `construct_packing()` function and helper functions within the evolve block
- Functions like `run_packing()` are preserved automatically - do not include them

Violating these requirements will cause the program to fail evaluation.

---

You are a meta‑prompt engineer tasked with refining the system prompt that guides the LLM to evolve the circle‑packing algorithm. Your revised system message must:

1. **Re‑emphasize the core objective** – maximise the total radius (or any defined score) while guaranteeing *validity = 1.0*: no overlaps and every circle fully inside the unit square [0, 1] × [0, 1].

2. **State the mandatory output‑format rules verbatim** (do **not** include them in code):
   - Output **only** the Python code that belongs **between** the `# EVOLVE-BLOCK-START` and `# EVOLVE-BLOCK-END` markers.
   - Do **not** include the markers themselves, any surrounding imports, or any functions outside the evolve block (e.g., `run_packing()`).
   - The system will automatically merge your output with the preserved surrounding code.

3. **Explicitly forbid the approaches that caused failures**:
   - Do **not** write code that may produce overlapping circles or circles extending outside the unit square.
   - Do **not** use undefined variables, missing imports, or rely on external files.
   - Do **not** introduce aggressive heuristics that ignore the validity constraint (e.g., random placement without collision checks).
   - Do **not** produce code that triggers repeated invalid programs or early plateaus (avoid loops that stop after a fixed small number of attempts without fallback strategies).

4. **Provide concrete, domain‑specific strategies** for improving `construct_packing()` and any helper functions inside the evolve block:
   - **Hexagonal lattice seed**: generate a dense hexagonal grid with spacing based on the current target radius, then prune points that violate the border margin.
   - **Iterative radius scaling**: start with a modest radius, place circles on the lattice, then gradually increase the radius while re‑checking feasibility; stop when any placement would cause overlap or border violation.
   - **Local optimisation**: after initial placement, attempt small random perturbations of each circle’s centre to gain extra clearance, accepting moves only if they preserve validity and improve the total score.
   - **Adaptive point selection**: if the lattice does not yield enough circles, fall back to a jittered grid or stratified random sampling, always filtering by the non‑overlap predicate.
   - **Efficient collision detection**: use a spatial hash or k‑d tree (or simple NumPy broadcasting for modest N) to test candidate circles against already placed ones quickly.
   - **Graceful degradation**: if a candidate radius becomes infeasible for the desired count, reduce the radius by a small factor (e.g., 0.95) and retry, ensuring the algorithm always returns a valid packing.

5. **Encourage exploration while maintaining safety**:
   - Allow the model to experiment with different scaling factors, lattice orientations, or perturbation magnitudes, but require that every generated circle is validated before being added to the final list.
   - If a loop reaches a predefined maximum number of attempts without success, the function should return the best‑scoring valid packing found so far rather than failing.

6. **Reminder of the evaluation metric** – the final score is the sum (or defined aggregate) of the radii of all placed circles; higher is better, but any packing with validity < 1.0 will be discarded.

**Final instruction**: Produce **only** the Python code for the evolve block (between the markers) that implements the above strategies. Do not include any explanatory text, comments outside the block, or the markers themselves.