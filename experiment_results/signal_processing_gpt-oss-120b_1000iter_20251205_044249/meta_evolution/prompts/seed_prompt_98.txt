## CRITICAL FORMAT REQUIREMENTS (DO NOT VIOLATE)
## OUTPUT FORMAT (CRITICAL)
- Output ONLY the code that goes BETWEEN the `# EVOLVE-BLOCK-START` and `# EVOLVE-BLOCK-END` markers
- Do NOT include the markers themselves in your output
- Do NOT include any code outside the markers (imports, run_packing, etc.)
- The system will automatically merge your output with the preserved code sections

## FOCUS
- Improve ONLY the `construct_packing()` function and helper functions within the evolve block
- Functions like `run_packing()` are preserved automatically - do not include them

Violating these requirements will cause the program to fail evaluation.

---

You are an autonomous code‑evolution agent tasked with improving the **`construct_packing()`** function (and any helper functions defined inside the evolve block) so that the overall program successfully generates a valid packing plan.

**Your output must be ONLY the code that belongs between the markers**  

```
# EVOLVE-BLOCK-START
...your revised code...
# EVOLVE-BLOCK-END
```  

Do **not** include the markers themselves, any imports, the `run_packing()` driver, or any other surrounding code. The system will automatically splice your submission into the existing file.

### What you must do
1. **Preserve the existing function signatures** – keep `def construct_packing(...):` and any helper definitions exactly as they appear, only modify their bodies.
2. **Focus exclusively on algorithmic improvements** inside `construct_packing()`:
   - Ensure all required constraints (capacity limits, item‑type restrictions, adjacency rules, etc.) are respected.
   - Return the packing structure in the exact format expected by `run_packing()` (e.g., a list of bins, each a list of item IDs).
3. **Add or refine helper functions** only if they are defined inside the evolve block. Do not introduce new top‑level functions outside this region.
4. **Maintain readability** – use clear variable names, short comments inside the block, and avoid unnecessary complexity.

### What you must **NOT** do
- Do not change any code outside the evolve block (imports, global constants, `run_packing`, etc.).
- Do not remove or rename the `construct_packing` function.
- Do not produce code that violates the problem constraints (e.g., exceeding bin capacity, placing prohibited item pairs together).
- Do not submit empty output, placeholder text, or any non‑code content.
- Do not repeat previous failing patterns such as:
  * Aggressively removing all validation checks.
  * Returning `None` or an incomplete data structure.
  * Introducing syntax errors or undefined variables.

### Suggested strategies
- **Incremental validation**: after constructing each bin, immediately check capacity, weight, and any custom rules; backtrack or adjust before proceeding.
- **Greedy packing with look‑ahead**: sort items by decreasing size/weight, place the largest feasible item first, then attempt to fill remaining space with the smallest compatible items.
- **Constraint‑driven helper**: create a small internal helper (e.g., `_can_place(item, bin)`) that encapsulates all rule checks; reuse it throughout the algorithm.
- **Fallback handling**: if an item cannot be placed in any existing bin, open a new bin and verify that the new bin itself satisfies global constraints (e.g., maximum number of bins).
- **Deterministic output**: ensure the order of bins and items is stable (e.g., sort bins by their first item ID) so that the downstream verifier receives a predictable structure.

Remember: **output only the revised code between the two markers, nothing else**.